<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SalomChat</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,Segoe UI,Roboto}
body{background:#0e1621;color:#fff;height:100vh;display:flex}

.app{display:flex;width:100%;height:100vh}

.sidebar{
width:320px;
background:#17212b;
border-right:1px solid #0b1117;
overflow-y:auto
}

.header{
height:60px;
display:flex;
align-items:center;
padding:0 16px;
font-weight:600;
font-size:18px;
background:#17212b;
border-bottom:1px solid #0b1117
}

.chat-tile{
display:flex;
gap:12px;
padding:12px 16px;
cursor:pointer;
transition:.2s
}
.chat-tile:hover{background:#1f2c38}

.avatar{
width:48px;height:48px;border-radius:50%;
object-fit:cover
}

.chat-info{flex:1}
.chat-name{font-weight:600}
.chat-last{opacity:.6;font-size:14px;margin-top:4px}

.chat-area{
flex:1;
display:flex;
flex-direction:column;
background:#0e1621
}

.chat-appbar{
height:60px;
display:flex;
align-items:center;
gap:12px;
padding:0 16px;
border-bottom:1px solid #0b1117;
background:#17212b
}

.messages{
flex:1;
overflow-y:auto;
padding:16px;
display:flex;
flex-direction:column;
gap:10px
}

.msg{
max-width:60%;
padding:10px 14px;
border-radius:14px;
font-size:15px;
line-height:1.4
}

.msg.me{
align-self:flex-end;
background:#2b5278
}

.msg.other{
align-self:flex-start;
background:#182533
}

.input-bar{
display:flex;
gap:10px;
padding:12px;
border-top:1px solid #0b1117;
background:#17212b
}

.input-bar input{
flex:1;
background:#0e1621;
border:none;
outline:none;
color:#fff;
padding:12px 14px;
border-radius:20px
}

.send-btn{
background:#2b5278;
border:none;
color:#fff;
padding:10px 16px;
border-radius:20px;
cursor:pointer
}
</style>
</head>

<body>

<div class="app">

<div class="sidebar">
<div class="header">SalomChat</div>
<div id="chatList"></div>
</div>

<div class="chat-area">
<div class="chat-appbar" id="chatBar"></div>
<div class="messages" id="messages"></div>
<div class="input-bar">
<input id="msgInput" placeholder="Message">
<button class="send-btn" onclick="sendMessage()">Send</button>
</div>
</div>

</div>

<script>
const currentUser="0"

const chats=[
{
id:"c1",
name:"Ali",
avatar:"https://i.pravatar.cc/100?img=2",
messages:[
{id:"m1",sender:"1",text:"Salom!"},
{id:"m2",sender:"0",text:"Qalaysan?"}
]
},
{
id:"c2",
name:"Vali",
avatar:"https://i.pravatar.cc/100?img=3",
messages:[
{id:"m3",sender:"2",text:"Bugun dars bormi?"}
]
}
]

let activeChat=null

const chatList=document.getElementById("chatList")
const messagesEl=document.getElementById("messages")
const chatBar=document.getElementById("chatBar")

function renderChatList(){
chatList.innerHTML=""
chats.forEach(chat=>{
const el=document.createElement("div")
el.className="chat-tile"
el.onclick=()=>openChat(chat.id)

el.innerHTML=`
<img class="avatar" src="${chat.avatar}">
<div class="chat-info">
<div class="chat-name">${chat.name}</div>
<div class="chat-last">${chat.messages.at(-1)?.text||""}</div>
</div>
`
chatList.appendChild(el)
})
}

function openChat(id){
activeChat=chats.find(c=>c.id===id)

chatBar.innerHTML=`
<img class="avatar" src="${activeChat.avatar}">
<div>${activeChat.name}</div>
`

renderMessages()
}

function renderMessages(){
messagesEl.innerHTML=""
if(!activeChat)return

activeChat.messages.forEach(m=>{
const div=document.createElement("div")
div.className="msg "+(m.sender===currentUser?"me":"other")
div.textContent=m.text
messagesEl.appendChild(div)
})

messagesEl.scrollTop=messagesEl.scrollHeight
}

function sendMessage(){
const input=document.getElementById("msgInput")
const text=input.value.trim()
if(!text||!activeChat)return

activeChat.messages.push({
id:Date.now().toString(),
sender:currentUser,
text:text
})

input.value=""
renderMessages()
renderChatList()
}

renderChatList()
openChat("c1")
</script>

</body>
</html>
